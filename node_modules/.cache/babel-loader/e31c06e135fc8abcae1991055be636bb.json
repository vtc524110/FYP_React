{"ast":null,"code":"var _jsxFileName = \"/Users/project2020/Documents/GitHub/FYP_React/src/components/Category/CarsProperty.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport CategoryTable from './CategoryTable.js';\nimport Spinner from 'react-bootstrap/Spinner';\n\nclass CarsProperty extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: null,\n      error: null,\n      data: null,\n      carsPropertyHeader: [],\n      carsPropertyItem: [],\n      category: \"Cars & Property\",\n      fetch: \"http://desmond.business:8080/fyp/getCategoryFirstLvs\"\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true,\n      error: false\n    });\n    axios.get(this.state.fetch).then(res => {\n      // Transform the raw data by extracting the nested posts\n      const posts = res.data.results;\n      var list;\n      console.log(posts); // Update state to trigger a re-render.\n      // Clear any errors, and turn off the loading indiciator.\n\n      posts.forEach(elm => {\n        if (elm.category_first_lv_name == this.state.category) {\n          console.log(elm);\n          console.log(\"theCategorySecondLvs\");\n          console.log(elm.theCategorySecondLvs);\n          list = elm.theCategorySecondLvs;\n          this.setState({\n            data: elm.theCategorySecondLvs,\n            loading: false,\n            error: null\n          });\n        }\n      });\n    }).catch(err => {\n      // Something went wrong. Save the error in state and re-render.\n      this.setState({\n        loading: true,\n        error: err\n      });\n    });\n    console.log(this.state.data);\n  }\n\n  render() {\n    const {\n      data,\n      loading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, loading ? /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"border\",\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 16\n      }\n    }) : ( /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, \"Landed Data\"), /*#__PURE__*/React.createElement(CategoryTable, {\n      data: data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    })));\n  }\n\n}\n\nexport default CarsProperty;","map":{"version":3,"sources":["/Users/project2020/Documents/GitHub/FYP_React/src/components/Category/CarsProperty.js"],"names":["React","axios","CategoryTable","Spinner","CarsProperty","Component","constructor","props","state","loading","error","data","carsPropertyHeader","carsPropertyItem","category","fetch","componentDidMount","setState","get","then","res","posts","results","list","console","log","forEach","elm","category_first_lv_name","theCategorySecondLvs","catch","err","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,oBAA1B;AACA,OAAOC,OAAP,MAAoB,yBAApB;;AAEA,MAAMC,YAAN,SAA2BJ,KAAK,CAACK,SAAjC,CAA2C;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,IADA;AAETC,MAAAA,KAAK,EAAE,IAFE;AAGTC,MAAAA,IAAI,EAAG,IAHE;AAITC,MAAAA,kBAAkB,EAAC,EAJV;AAKTC,MAAAA,gBAAgB,EAAE,EALT;AAMTC,MAAAA,QAAQ,EAAE,iBAND;AAOTC,MAAAA,KAAK,EAAG;AAPC,KAAb;AASH;;AAEAC,EAAAA,iBAAiB,GAAE;AACf,SAAKC,QAAL,CAAc;AACVR,MAAAA,OAAO,EAAC,IADE;AAEVC,MAAAA,KAAK,EAAC;AAFI,KAAd;AAIDT,IAAAA,KAAK,CAACiB,GAAN,CAAU,KAAKV,KAAL,CAAWO,KAArB,EACCI,IADD,CACMC,GAAG,IAAI;AACT;AAEA,YAAMC,KAAK,GAAGD,GAAG,CAACT,IAAJ,CAASW,OAAvB;AACA,UAAIC,IAAJ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EALS,CAMT;AACA;;AACAA,MAAAA,KAAK,CAACK,OAAN,CAAeC,GAAD,IAAS;AACnB,YAAGA,GAAG,CAACC,sBAAJ,IAA8B,KAAKpB,KAAL,CAAWM,QAA5C,EAAqD;AACjDU,UAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACAH,UAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACAD,UAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACE,oBAAhB;AACAN,UAAAA,IAAI,GAAGI,GAAG,CAACE,oBAAX;AACA,eAAKZ,QAAL,CAAc;AACVN,YAAAA,IAAI,EAAEgB,GAAG,CAACE,oBADA;AAEVpB,YAAAA,OAAO,EAAE,KAFC;AAGVC,YAAAA,KAAK,EAAE;AAHG,WAAd;AAKH;AACJ,OAZD;AAaH,KAtBD,EAuBCoB,KAvBD,CAuBOC,GAAG,IAAI;AACV;AACA,WAAKd,QAAL,CAAc;AACVR,QAAAA,OAAO,EAAE,IADC;AAEVC,QAAAA,KAAK,EAAEqB;AAFG,OAAd;AAIH,KA7BD;AA8BAP,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWG,IAAvB;AACH;;AAEDqB,EAAAA,MAAM,GAAG;AACL,UAAM;AAAErB,MAAAA,IAAF;AAAQF,MAAAA;AAAR,QAAoB,KAAKD,KAA/B;AACA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCC,OAAO,gBACL,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,QAAnB;AAA4B,MAAA,OAAO,EAAC,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADK,IAGN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCACA,oBAAC,aAAD;AAAe,MAAA,IAAI,EAAEE,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJM,CADR,CADJ;AAUH;;AAhEsC;;AAmE3C,eAAeP,YAAf","sourcesContent":["import React from 'react'\nimport axios from 'axios';\nimport CategoryTable from './CategoryTable.js'\nimport Spinner from 'react-bootstrap/Spinner'\n\nclass CarsProperty extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            loading: null,\n            error: null,\n            data : null,\n            carsPropertyHeader:[],\n            carsPropertyItem: [],\n            category: \"Cars & Property\",\n            fetch : \"http://desmond.business:8080/fyp/getCategoryFirstLvs\"\n        }\n    }\n\n     componentDidMount(){\n         this.setState({\n             loading:true,\n             error:false\n         })\n        axios.get(this.state.fetch)\n        .then(res => {\n            // Transform the raw data by extracting the nested posts\n\n            const posts = res.data.results;\n            var list\n            console.log(posts);\n            // Update state to trigger a re-render.\n            // Clear any errors, and turn off the loading indiciator.\n            posts.forEach((elm) => {\n                if(elm.category_first_lv_name == this.state.category){\n                    console.log(elm)\n                    console.log(\"theCategorySecondLvs\")\n                    console.log(elm.theCategorySecondLvs)\n                    list = elm.theCategorySecondLvs\n                    this.setState({\n                        data: elm.theCategorySecondLvs,\n                        loading: false,\n                        error: null\n                    });\n                }\n            })\n        })\n        .catch(err => {\n            // Something went wrong. Save the error in state and re-render.\n            this.setState({\n                loading: true,\n                error: err\n            });\n        })\n        console.log(this.state.data)\n    }\n\n    render() {\n        const { data, loading } = this.state;\n        return (\n            <div>\n            {loading ? (\n               <Spinner animation=\"border\" variant=\"primary\" />\n            ) : (\n              <h6>Landed Data</h6>,\n              <CategoryTable data={data}/>\n            )}\n         </div>\n        )\n    }\n}\n\nexport default CarsProperty;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/project2020/Documents/GitHub/FYP_React/src/components/Category/CarsProperty.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport CategoryTable from './CategoryTable.js';\nimport { css } from \"@emotion/core\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nclass CarsProperty extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: null,\n      error: null,\n      data: null,\n      carsPropertyHeader: [],\n      carsPropertyItem: [],\n      category: \"Cars & Property\",\n      fetch: \"http://desmond.business:8080/fyp/getCategoryFirstLvs\"\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true,\n      error: false\n    });\n    axios.get(this.state.fetch).then(res => {\n      // Transform the raw data by extracting the nested posts\n      const posts = res.data.results;\n      const list = null; //console.log(posts);\n      // Update state to trigger a re-render.\n      // Clear any errors, and turn off the loading indiciator.\n\n      posts.forEach(elm => {\n        if (elm.category_first_lv_name == this.state.category) {\n          console.log(elm);\n          list = elm.theCategorySecondLvs;\n        }\n      });\n      this.setState({\n        data: list,\n        loading: false,\n        error: null\n      });\n    }).catch(err => {\n      // Something went wrong. Save the error in state and re-render.\n      this.setState({\n        loading: false,\n        error: err\n      });\n    });\n  }\n\n  render() {\n    const {\n      data,\n      loading\n    } = this.state;\n    const override = css`\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n`;\n    return {\n      loading\n    } ? Landing : /*#__PURE__*/React.createElement(CategoryTable, {\n      data: this.state.data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 37\n      }\n    });\n  }\n\n}\n\nexport default CarsProperty;","map":{"version":3,"sources":["/Users/project2020/Documents/GitHub/FYP_React/src/components/Category/CarsProperty.js"],"names":["React","axios","CategoryTable","css","ClipLoader","CarsProperty","Component","constructor","props","state","loading","error","data","carsPropertyHeader","carsPropertyItem","category","fetch","componentDidMount","setState","get","then","res","posts","results","list","forEach","elm","category_first_lv_name","console","log","theCategorySecondLvs","catch","err","render","override","Landing"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,oBAA1B;AACA,SAASC,GAAT,QAAoB,eAApB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;;AAEA,MAAMC,YAAN,SAA2BL,KAAK,CAACM,SAAjC,CAA2C;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,IADA;AAETC,MAAAA,KAAK,EAAE,IAFE;AAGTC,MAAAA,IAAI,EAAE,IAHG;AAITC,MAAAA,kBAAkB,EAAE,EAJX;AAKTC,MAAAA,gBAAgB,EAAE,EALT;AAMTC,MAAAA,QAAQ,EAAE,iBAND;AAOTC,MAAAA,KAAK,EAAE;AAPE,KAAb;AASH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,QAAL,CAAc;AACVR,MAAAA,OAAO,EAAE,IADC;AAEVC,MAAAA,KAAK,EAAE;AAFG,KAAd;AAIAV,IAAAA,KAAK,CAACkB,GAAN,CAAU,KAAKV,KAAL,CAAWO,KAArB,EACKI,IADL,CACUC,GAAG,IAAI;AACT;AAEA,YAAMC,KAAK,GAAGD,GAAG,CAACT,IAAJ,CAASW,OAAvB;AACA,YAAMC,IAAI,GAAG,IAAb,CAJS,CAKT;AACA;AACA;;AACAF,MAAAA,KAAK,CAACG,OAAN,CAAeC,GAAD,IAAS;AACnB,YAAIA,GAAG,CAACC,sBAAJ,IAA8B,KAAKlB,KAAL,CAAWM,QAA7C,EAAuD;AACnDa,UAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACAF,UAAAA,IAAI,GAAGE,GAAG,CAACI,oBAAX;AACH;AACJ,OALD;AAMA,WAAKZ,QAAL,CAAc;AACVN,QAAAA,IAAI,EAAEY,IADI;AAEVd,QAAAA,OAAO,EAAE,KAFC;AAGVC,QAAAA,KAAK,EAAE;AAHG,OAAd;AAKH,KApBL,EAqBKoB,KArBL,CAqBWC,GAAG,IAAI;AACV;AACA,WAAKd,QAAL,CAAc;AACVR,QAAAA,OAAO,EAAE,KADC;AAEVC,QAAAA,KAAK,EAAEqB;AAFG,OAAd;AAIH,KA3BL;AA4BH;;AAEDC,EAAAA,MAAM,GAAG;AACL,UAAM;AAAErB,MAAAA,IAAF;AAAQF,MAAAA;AAAR,QAAoB,KAAKD,KAA/B;AACA,UAAMyB,QAAQ,GAAG/B,GAAI;;;;CAArB;AAKA,WACI;AAAEO,MAAAA;AAAF,QAAcyB,OAAd,gBAAwB,oBAAC,aAAD;AAAe,MAAA,IAAI,EAAE,KAAK1B,KAAL,CAAWG,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD5B;AAGH;;AA3DsC;;AA8D3C,eAAeP,YAAf","sourcesContent":["import React from 'react'\nimport axios from 'axios';\nimport CategoryTable from './CategoryTable.js'\nimport { css } from \"@emotion/core\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nclass CarsProperty extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            loading: null,\n            error: null,\n            data: null,\n            carsPropertyHeader: [],\n            carsPropertyItem: [],\n            category: \"Cars & Property\",\n            fetch: \"http://desmond.business:8080/fyp/getCategoryFirstLvs\"\n        }\n    }\n\n    componentDidMount() {\n        this.setState({\n            loading: true,\n            error: false\n        })\n        axios.get(this.state.fetch)\n            .then(res => {\n                // Transform the raw data by extracting the nested posts\n\n                const posts = res.data.results;\n                const list = null;\n                //console.log(posts);\n                // Update state to trigger a re-render.\n                // Clear any errors, and turn off the loading indiciator.\n                posts.forEach((elm) => {\n                    if (elm.category_first_lv_name == this.state.category) {\n                        console.log(elm)\n                        list = elm.theCategorySecondLvs\n                    }\n                })\n                this.setState({\n                    data: list,\n                    loading: false,\n                    error: null\n                });\n            })\n            .catch(err => {\n                // Something went wrong. Save the error in state and re-render.\n                this.setState({\n                    loading: false,\n                    error: err\n                });\n            })\n    }\n\n    render() {\n        const { data, loading } = this.state;\n        const override = css`\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n`;\n        return (\n            { loading } ? Landing : <CategoryTable data={this.state.data} />\n        )\n    }\n}\n\nexport default CarsProperty;"]},"metadata":{},"sourceType":"module"}
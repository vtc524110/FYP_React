{"ast":null,"code":"var _jsxFileName = \"/Users/project2020/Documents/GitHub/FYP_React/src/components/Category/CarsProperty.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport CategoryTable from './CategoryTable.js';\nimport Spinner from 'react-bootstrap/Spinner';\n\nclass CarsProperty extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.isLoading = () => {\n      return this.state.loading;\n    };\n\n    this.dataisNull = () => {\n      return this.state.data == null;\n    };\n\n    this.state = {\n      loading: true,\n      error: null,\n      data: [],\n      category: \"Cars & Property\",\n      fetch: \"http://desmond.business:8080/fyp/getCategoryFirstLvs\"\n    };\n  }\n\n  async componentDidMount() {\n    console.log(this.state.loading);\n    this.setState({\n      data: null,\n      loading: true,\n      error: null\n    });\n    console.log(this.state.loading);\n    await axios.get(this.state.fetch).then(res => {\n      // Transform the raw data by extracting the nested posts\n      const posts = res.data.results;\n      const item = [];\n      var col = null; //console.log(posts);\n      // Update state to trigger a re-render.\n      // Clear any errors, and turn off the loading indiciator.\n\n      const list = \"\";\n      posts.map((obj, index) => [obj.category_first_lv_name, obj.theCategorySecondLvs]);\n      posts.forEach(elm => {\n        if (elm.category_first_lv_name == this.state.category) {\n          elm.theCategorySecondLvs.forEach(subElm => {\n            var col = subElm.category_second_lv_name;\n            subElm.theCategoryThirdLvLv.forEach(thirdElm => {\n              var row = thirdElm.category_third_lv_name;\n            });\n          });\n        }\n\n        this.setState({\n          data: item\n        });\n      });\n      this.setState({\n        loading: false\n      });\n      console.log(this.state.loading);\n    }).catch(err => {\n      // Something went wrong. Save the error in state and re-render.\n      this.setState({\n        loading: false,\n        error: err\n      });\n    });\n    console.log(this.state.data);\n    console.log(this.state.loading);\n  }\n\n  render() {\n    const {\n      data,\n      loading\n    } = this.state;\n    const sample = [{\n      'fruit': 'Apple',\n      'cost': 100\n    }, {\n      'fruit': 'Orange',\n      'cost': 50\n    }, {\n      'fruit': 'Banana',\n      'cost': 35\n    }, {\n      'fruit': 'Mango',\n      'cost': 70\n    }, {\n      'fruit': 'Pineapple',\n      'cost': 45\n    }, {\n      'fruit': 'Papaya',\n      'cost': 40\n    }, {\n      'fruit': 'Watermelon',\n      'cost': 35\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, this.state.loading ? /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"border\",\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(CategoryTable, {\n      data: sample,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    }));\n  }\n\n}\n\nexport default CarsProperty;","map":{"version":3,"sources":["/Users/project2020/Documents/GitHub/FYP_React/src/components/Category/CarsProperty.js"],"names":["React","axios","CategoryTable","Spinner","CarsProperty","Component","constructor","props","isLoading","state","loading","dataisNull","data","error","category","fetch","componentDidMount","console","log","setState","get","then","res","posts","results","item","col","list","map","obj","index","category_first_lv_name","theCategorySecondLvs","forEach","elm","subElm","category_second_lv_name","theCategoryThirdLvLv","thirdElm","row","category_third_lv_name","catch","err","render","sample"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios';\nimport CategoryTable from './CategoryTable.js'\nimport Spinner from 'react-bootstrap/Spinner'\n\nclass CarsProperty extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            loading: true,\n            error: null,\n            data: [],\n            category: \"Cars & Property\",\n            fetch: \"http://desmond.business:8080/fyp/getCategoryFirstLvs\"\n        }\n    }\n    \n    async componentDidMount() {\n        console.log(this.state.loading)\n        this.setState({\n            data: null,\n            loading: true,\n            error: null\n        })\n        console.log(this.state.loading)\n        await axios.get(this.state.fetch)\n            .then(res => {\n                // Transform the raw data by extracting the nested posts\n\n                const posts = res.data.results;\n                const item = []\n                var col = null;\n                //console.log(posts);\n                // Update state to trigger a re-render.\n                // Clear any errors, and turn off the loading indiciator.\n                const list = \"\"\n                posts.map((obj,index)=>[\n                obj.category_first_lv_name,\n                obj.theCategorySecondLvs\n                ]\n                )\n                \n                posts.forEach((elm) => {\n                    if (elm.category_first_lv_name == this.state.category){\n                        elm.theCategorySecondLvs.forEach((subElm)=>{\n                            var col = subElm.category_second_lv_name\n                            subElm.theCategoryThirdLvLv.forEach((thirdElm)=>{\n                                var row = thirdElm.category_third_lv_name\n                            })\n                        })\n                    }\n                        this.setState({\n                            data: item\n                        })\n                })\n                this.setState({\n                    loading: false\n                })\n                console.log(this.state.loading)\n            })\n            .catch(err => {\n                // Something went wrong. Save the error in state and re-render.\n                this.setState({\n                    loading: false,\n                    error: err\n                });\n            })\n            console.log(this.state.data)\n            console.log(this.state.loading)\n    }\n\n    isLoading = () =>{\n        return this.state.loading\n    }\n\n    dataisNull = () => {\n        return this.state.data == null\n    }\n\n    render() {\n        const { data, loading } = this.state;\n        const sample = [\n            {'fruit': 'Apple', 'cost': 100},\n            {'fruit': 'Orange', 'cost': 50},\n            {'fruit': 'Banana', 'cost': 35},\n            {'fruit': 'Mango', 'cost': 70},\n            {'fruit': 'Pineapple', 'cost': 45},\n            {'fruit': 'Papaya', 'cost': 40},\n            {'fruit': 'Watermelon', 'cost': 35}\n            ]\n           \n        return (\n            <div>\n         \n                {this.state.loading ? (\n                    <Spinner animation=\"border\" variant=\"primary\" />\n                ) : (\n                        <CategoryTable data={sample} />\n                    )}\n            </div>\n        )\n    }\n}\n\nexport default CarsProperty;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/project2020/Documents/GitHub/FYP_React/src/components/Category/CarsProperty.js\";\nimport React from 'react';\nimport axios from 'axios';\n\nclass CarsProperty extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.renderCarsProperty = () => {\n      return axios.get(\"http://desmond.business:8080/fyp/getCategoryFirstLvs\").then(res => {\n        // Transform the raw data by extracting the nested posts\n        const posts = res.data.results; //console.log(posts);\n        // Update state to trigger a re-render.\n        // Clear any errors, and turn off the loading indiciator.\n\n        posts.forEach(elm => {\n          if (elm.category_first_lv_name == \"Cars & Property\") {\n            console.log(elm);\n            this.state.carsProperty.push(elm.theCategorySecondLvs.map((obj, index) => /*#__PURE__*/React.createElement(\"tr\", {\n              key: obj.id,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 25\n              }\n            }, /*#__PURE__*/React.createElement(\"td\", {\n              id: obj.id,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 29\n              }\n            }, /*#__PURE__*/React.createElement(\"a\", {\n              href: \"/CarsForSale\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 45\n              }\n            }, obj.category_second_lv_name)))));\n          }\n        });\n        console.log(this.state.carsProperty);\n        this.setState({\n          loading: false,\n          error: null\n        });\n      }).catch(err => {\n        // Something went wrong. Save the error in state and re-render.\n        this.setState({\n          loading: false,\n          error: err\n        });\n      });\n    };\n\n    this.state = {\n      students: [{\n        car: 'Cars for Sale',\n        property: 'Industrial property'\n      }, {\n        car: 'Vehicle Rentals',\n        property: 'Rentals'\n      }],\n      loading: false,\n      error: null,\n      carsProperty: [],\n      category: \"Cars & Property\"\n    };\n  }\n\n  componentDidMount() {\n    this.renderCarsProperty();\n  }\n\n  renderTableHeader() {\n    let header = Object.keys(this.state.students[0]);\n    return header.map((key, index) => {\n      return /*#__PURE__*/React.createElement(\"th\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 20\n        }\n      }, key.toUpperCase());\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      id: \"carsPropertyTable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, this.renderTableHeader()), /*#__PURE__*/React.createElement(\"tr\", {\n      key: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, this.state.carsProperty))));\n  }\n\n}\n\nexport default CarsProperty;","map":{"version":3,"sources":["/Users/project2020/Documents/GitHub/FYP_React/src/components/Category/CarsProperty.js"],"names":["React","axios","CarsProperty","Component","constructor","props","renderCarsProperty","get","then","res","posts","data","results","forEach","elm","category_first_lv_name","console","log","state","carsProperty","push","theCategorySecondLvs","map","obj","index","id","category_second_lv_name","setState","loading","error","catch","err","students","car","property","category","componentDidMount","renderTableHeader","header","Object","keys","key","toUpperCase","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios';\n\nclass CarsProperty extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            students: [\n                { car: 'Cars for Sale', property: 'Industrial property' },\n                { car: 'Vehicle Rentals', property: 'Rentals' },\n            ],\n            loading: false,\n            error: null,\n            carsProperty: [],\n            category:\"Cars & Property\"\n        }\n    }\n\n    componentDidMount(){\n        this.renderCarsProperty()\n    }\n\n    renderCarsProperty = () => {\n        \n        return(\n        axios.get(\"http://desmond.business:8080/fyp/getCategoryFirstLvs\")\n            .then(res => {\n                // Transform the raw data by extracting the nested posts\n\n                const posts = res.data.results;\n                //console.log(posts);\n                // Update state to trigger a re-render.\n                // Clear any errors, and turn off the loading indiciator.\n                posts.forEach((elm) => {\n                    if(elm.category_first_lv_name == \"Cars & Property\"){\n                        console.log(elm)\n                    this.state.carsProperty.push(elm.theCategorySecondLvs.map((obj, index) =>\n                        <tr key={obj.id}>\n                            <td id={obj.id}><a href=\"/CarsForSale\">{obj.category_second_lv_name}</a></td>\n                        </tr>\n                        ))\n                    }\n                })\n\n                console.log(this.state.carsProperty)\n                this.setState({\n                    loading: false,\n                    error: null\n                });\n            })\n            .catch(err => {\n                // Something went wrong. Save the error in state and re-render.\n                this.setState({\n                    loading: false,\n                    error: err\n                });\n            })\n        )\n    }\n\n    renderTableHeader() {\n        let header = Object.keys(this.state.students[0])\n        return header.map((key, index) => {\n            return <th key={index}>{key.toUpperCase()}</th>\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <table id='carsPropertyTable'>\n                    <tbody>\n                        <tr>{this.renderTableHeader()}</tr>\n                        <tr key=\"1\">\n                        {this.state.carsProperty}\n                            </tr>\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}\n\nexport default CarsProperty;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/project2020/Documents/GitHub/FYP_React/src/components/Category/CarsProperty.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport CategoryTable from './CategoryTable.js';\nimport Spinner from 'react-bootstrap/Spinner';\n\nclass CarsProperty extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.isLoading = () => {\n      return this.state.loading;\n    };\n\n    this.dataisNull = () => {\n      return this.state.data == null;\n    };\n\n    this.state = {\n      loading: true,\n      error: null,\n      data: [],\n      category: \"Cars & Property\",\n      category_second_lv_name: null,\n      fetch: \"http://desmond.business:8080/fyp/getCategoryFirstLvs\"\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      data: [],\n      loading: true,\n      error: null\n    });\n    const sample = [{\n      'fruit': 'Apple',\n      'cost': 100\n    }, {\n      'fruit': 'Orange',\n      'cost': 50\n    }, {\n      'fruit': 'Banana',\n      'cost': 35\n    }, {\n      'fruit': 'Mango',\n      'cost': 70\n    }, {\n      'fruit': 'Pineapple',\n      'cost': 45\n    }, {\n      'fruit': 'Papaya',\n      'cost': 40\n    }, {\n      'fruit': 'Watermelon',\n      'cost': 35\n    }];\n    axios.get(this.state.fetch).then(res => {\n      // Transform the raw data by extracting the nested posts\n      const posts = res.data.results;\n      const item = []; //console.log(posts);\n      // Update state to trigger a re-render.\n      // Clear any errors, and turn off the loading indiciator.\n\n      console.log(\"start up item\");\n      console.log(item);\n      posts.forEach(elm => {\n        if (elm.category_first_lv_name == this.state.category) {\n          console.log(\"target item\");\n          let mapping = {};\n\n          for (var i = 0; i < elm.theCategorySecondLvs.length; i++) {\n            for (var k = 0; k < elm.theCategorySecondLvs[i].theCategoryThirdLvLv.length; k++) {\n              const index = i + 1;\n              mapping[elm.theCategorySecondLvs[i].category_second_lv_name] = elm.theCategorySecondLvs[i].theCategoryThirdLvLv[k].category_third_lv_name;\n              mapping[elm.theCategorySecondLvs[index].category_second_lv_name] = elm.theCategorySecondLvs[index].theCategoryThirdLvLv[k].category_third_lv_name;\n              console.log(\"1st Key=\" + elm.theCategorySecondLvs[i].category_second_lv_name);\n              console.log(\"1st Value=\" + elm.theCategorySecondLvs[i].theCategoryThirdLvLv[k].category_third_lv_name);\n              console.log(\"2nd Key=\" + elm.theCategorySecondLvs[index].category_second_lv_name);\n              console.log(\"2nd Value=\" + elm.theCategorySecondLvs[index].theCategoryThirdLvLv[k].category_third_lv_name);\n              console.log(\"Mapping\");\n              console.log(mapping);\n              console.log(\"Item before pushing\");\n              console.log(item);\n              console.log(\"Push mapping to item\");\n              item.push(mapping);\n              console.log(\"inside item\");\n              console.log(item);\n            }\n          }\n        }\n      });\n      console.log(\"Outside item=\" + item);\n      this.setState({\n        data: item,\n        loading: false\n      });\n      console.log(this.state.loading);\n    }).catch(err => {\n      // Something went wrong. Save the error in state and re-render.\n      this.setState({\n        loading: false,\n        error: err\n      });\n    });\n    console.log(this.state.data);\n    console.log(this.state.loading);\n  }\n\n  render() {\n    const {\n      data,\n      loading\n    } = this.state;\n    const sample = [{\n      'fruit': 'Apple',\n      'cost': 100\n    }, {\n      'fruit': 'Orange',\n      'cost': 50\n    }, {\n      'fruit': 'Banana',\n      'cost': 35\n    }, {\n      'fruit': 'Mango',\n      'cost': 70\n    }, {\n      'fruit': 'Pineapple',\n      'cost': 45\n    }, {\n      'fruit': 'Papaya',\n      'cost': 40\n    }, {\n      'fruit': 'Watermelon',\n      'cost': 35\n    }];\n\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Spinner, {\n        animation: \"border\",\n        variant: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(CategoryTable, {\n        data: data,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }\n      }));\n    }\n  }\n\n}\n\nexport default CarsProperty;","map":{"version":3,"sources":["/Users/project2020/Documents/GitHub/FYP_React/src/components/Category/CarsProperty.js"],"names":["React","axios","CategoryTable","Spinner","CarsProperty","Component","constructor","props","isLoading","state","loading","dataisNull","data","error","category","category_second_lv_name","fetch","componentDidMount","setState","sample","get","then","res","posts","results","item","console","log","forEach","elm","category_first_lv_name","mapping","i","theCategorySecondLvs","length","k","theCategoryThirdLvLv","index","category_third_lv_name","push","catch","err","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,oBAA1B;AACA,OAAOC,OAAP,MAAoB,yBAApB;;AAEA,MAAMC,YAAN,SAA2BJ,KAAK,CAACK,SAAjC,CAA2C;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAqFnBC,SArFmB,GAqFP,MAAM;AACd,aAAO,KAAKC,KAAL,CAAWC,OAAlB;AACH,KAvFkB;;AAAA,SAyFnBC,UAzFmB,GAyFN,MAAM;AACf,aAAO,KAAKF,KAAL,CAAWG,IAAX,IAAmB,IAA1B;AACH,KA3FkB;;AAEf,SAAKH,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,IADA;AAETG,MAAAA,KAAK,EAAE,IAFE;AAGTD,MAAAA,IAAI,EAAE,EAHG;AAITE,MAAAA,QAAQ,EAAE,iBAJD;AAKTC,MAAAA,uBAAuB,EAAE,IALhB;AAMTC,MAAAA,KAAK,EAAE;AANE,KAAb;AAQH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,QAAL,CAAc;AACVN,MAAAA,IAAI,EAAE,EADI;AAEVF,MAAAA,OAAO,EAAE,IAFC;AAGVG,MAAAA,KAAK,EAAE;AAHG,KAAd;AAKA,UAAMM,MAAM,GAAG,CACX;AAAE,eAAS,OAAX;AAAoB,cAAQ;AAA5B,KADW,EAEX;AAAE,eAAS,QAAX;AAAqB,cAAQ;AAA7B,KAFW,EAGX;AAAE,eAAS,QAAX;AAAqB,cAAQ;AAA7B,KAHW,EAIX;AAAE,eAAS,OAAX;AAAoB,cAAQ;AAA5B,KAJW,EAKX;AAAE,eAAS,WAAX;AAAwB,cAAQ;AAAhC,KALW,EAMX;AAAE,eAAS,QAAX;AAAqB,cAAQ;AAA7B,KANW,EAOX;AAAE,eAAS,YAAX;AAAyB,cAAQ;AAAjC,KAPW,CAAf;AASAlB,IAAAA,KAAK,CAACmB,GAAN,CAAU,KAAKX,KAAL,CAAWO,KAArB,EACKK,IADL,CACUC,GAAG,IAAI;AACT;AAEA,YAAMC,KAAK,GAAGD,GAAG,CAACV,IAAJ,CAASY,OAAvB;AACA,YAAMC,IAAI,GAAG,EAAb,CAJS,CAKT;AACA;AACA;;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAF,MAAAA,KAAK,CAACK,OAAN,CAAeC,GAAD,IAAS;AACnB,YAAIA,GAAG,CAACC,sBAAJ,IAA8B,KAAKrB,KAAL,CAAWK,QAA7C,EAAuD;AACnDY,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,cAAII,OAAO,GAAG,EAAd;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,GAAG,CAACI,oBAAJ,CAAyBC,MAA7C,EAAqDF,CAAC,EAAtD,EAA0D;AACtD,iBAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,GAAG,CAACI,oBAAJ,CAAyBD,CAAzB,EAA4BI,oBAA5B,CAAiDF,MAArE,EAA6EC,CAAC,EAA9E,EAAkF;AAC9E,oBAAME,KAAK,GAAGL,CAAC,GAAG,CAAlB;AACAD,cAAAA,OAAO,CAACF,GAAG,CAACI,oBAAJ,CAAyBD,CAAzB,EAA4BjB,uBAA7B,CAAP,GAA+Dc,GAAG,CAACI,oBAAJ,CAAyBD,CAAzB,EAA4BI,oBAA5B,CAAiDD,CAAjD,EAAoDG,sBAAnH;AACAP,cAAAA,OAAO,CAACF,GAAG,CAACI,oBAAJ,CAAyBI,KAAzB,EAAgCtB,uBAAjC,CAAP,GAAmEc,GAAG,CAACI,oBAAJ,CAAyBI,KAAzB,EAAgCD,oBAAhC,CAAqDD,CAArD,EAAwDG,sBAA3H;AACAZ,cAAAA,OAAO,CAACC,GAAR,CAAY,aAAaE,GAAG,CAACI,oBAAJ,CAAyBD,CAAzB,EAA4BjB,uBAArD;AAEAW,cAAAA,OAAO,CAACC,GAAR,CAAY,eAAeE,GAAG,CAACI,oBAAJ,CAAyBD,CAAzB,EAA4BI,oBAA5B,CAAiDD,CAAjD,EAAoDG,sBAA/E;AACAZ,cAAAA,OAAO,CAACC,GAAR,CAAY,aAAaE,GAAG,CAACI,oBAAJ,CAAyBI,KAAzB,EAAgCtB,uBAAzD;AAEAW,cAAAA,OAAO,CAACC,GAAR,CAAY,eAAeE,GAAG,CAACI,oBAAJ,CAAyBI,KAAzB,EAAgCD,oBAAhC,CAAqDD,CAArD,EAAwDG,sBAAnF;AACAZ,cAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,cAAAA,OAAO,CAACC,GAAR,CAAYI,OAAZ;AACAL,cAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAD,cAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACAF,cAAAA,IAAI,CAACc,IAAL,CAAUR,OAAV;AACAL,cAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAD,cAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACH;AAEJ;AACJ;AACJ,OA3BD;AA4BAC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkBF,IAA9B;AAEA,WAAKP,QAAL,CAAc;AACVN,QAAAA,IAAI,EAAEa,IADI;AAEVf,QAAAA,OAAO,EAAE;AAFC,OAAd;AAIAgB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKlB,KAAL,CAAWC,OAAvB;AACH,KA9CL,EA+CK8B,KA/CL,CA+CWC,GAAG,IAAI;AACV;AACA,WAAKvB,QAAL,CAAc;AACVR,QAAAA,OAAO,EAAE,KADC;AAEVG,QAAAA,KAAK,EAAE4B;AAFG,OAAd;AAIH,KArDL;AAsDAf,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKlB,KAAL,CAAWG,IAAvB;AACAc,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKlB,KAAL,CAAWC,OAAvB;AACH;;AAUDgC,EAAAA,MAAM,GAAG;AACL,UAAM;AAAE9B,MAAAA,IAAF;AAAQF,MAAAA;AAAR,QAAoB,KAAKD,KAA/B;AACA,UAAMU,MAAM,GAAG,CACX;AAAE,eAAS,OAAX;AAAoB,cAAQ;AAA5B,KADW,EAEX;AAAE,eAAS,QAAX;AAAqB,cAAQ;AAA7B,KAFW,EAGX;AAAE,eAAS,QAAX;AAAqB,cAAQ;AAA7B,KAHW,EAIX;AAAE,eAAS,OAAX;AAAoB,cAAQ;AAA5B,KAJW,EAKX;AAAE,eAAS,WAAX;AAAwB,cAAQ;AAAhC,KALW,EAMX;AAAE,eAAS,QAAX;AAAqB,cAAQ;AAA7B,KANW,EAOX;AAAE,eAAS,YAAX;AAAyB,cAAQ;AAAjC,KAPW,CAAf;;AAUA,QAAI,KAAKV,KAAL,CAAWC,OAAf,EAAwB;AACpB,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,OAAD;AAAS,QAAA,SAAS,EAAC,QAAnB;AAA4B,QAAA,OAAO,EAAC,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ;AAKH,KAND,MAMO;AACH,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,aAAD;AAAe,QAAA,IAAI,EAAEE,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ;AAKH;AACJ;;AAvHsC;;AA0H3C,eAAeR,YAAf","sourcesContent":["import React from 'react'\nimport axios from 'axios';\nimport CategoryTable from './CategoryTable.js'\nimport Spinner from 'react-bootstrap/Spinner'\n\nclass CarsProperty extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            loading: true,\n            error: null,\n            data: [],\n            category: \"Cars & Property\",\n            category_second_lv_name: null,\n            fetch: \"http://desmond.business:8080/fyp/getCategoryFirstLvs\"\n        }\n    }\n\n    componentDidMount() {\n        this.setState({\n            data: [],\n            loading: true,\n            error: null\n        })\n        const sample = [\n            { 'fruit': 'Apple', 'cost': 100 },\n            { 'fruit': 'Orange', 'cost': 50 },\n            { 'fruit': 'Banana', 'cost': 35 },\n            { 'fruit': 'Mango', 'cost': 70 },\n            { 'fruit': 'Pineapple', 'cost': 45 },\n            { 'fruit': 'Papaya', 'cost': 40 },\n            { 'fruit': 'Watermelon', 'cost': 35 }\n        ]\n        axios.get(this.state.fetch)\n            .then(res => {\n                // Transform the raw data by extracting the nested posts\n\n                const posts = res.data.results;\n                const item = []\n                //console.log(posts);\n                // Update state to trigger a re-render.\n                // Clear any errors, and turn off the loading indiciator.\n                console.log(\"start up item\")\n                console.log(item)\n                posts.forEach((elm) => {\n                    if (elm.category_first_lv_name == this.state.category) {\n                        console.log(\"target item\")\n                        let mapping = {}\n                        for (var i = 0; i < elm.theCategorySecondLvs.length; i++) {\n                            for (var k = 0; k < elm.theCategorySecondLvs[i].theCategoryThirdLvLv.length; k++) {\n                                const index = i + 1\n                                mapping[elm.theCategorySecondLvs[i].category_second_lv_name] = elm.theCategorySecondLvs[i].theCategoryThirdLvLv[k].category_third_lv_name\n                                mapping[elm.theCategorySecondLvs[index].category_second_lv_name] = elm.theCategorySecondLvs[index].theCategoryThirdLvLv[k].category_third_lv_name\n                                console.log(\"1st Key=\" + elm.theCategorySecondLvs[i].category_second_lv_name)\n\n                                console.log(\"1st Value=\" + elm.theCategorySecondLvs[i].theCategoryThirdLvLv[k].category_third_lv_name)\n                                console.log(\"2nd Key=\" + elm.theCategorySecondLvs[index].category_second_lv_name)\n\n                                console.log(\"2nd Value=\" + elm.theCategorySecondLvs[index].theCategoryThirdLvLv[k].category_third_lv_name)\n                                console.log(\"Mapping\")\n                                console.log(mapping)\n                                console.log(\"Item before pushing\")\n                                console.log(item)\n                                console.log(\"Push mapping to item\")\n                                item.push(mapping)\n                                console.log(\"inside item\")\n                                console.log(item)\n                            }\n\n                        }\n                    }\n                })\n                console.log(\"Outside item=\" + item)\n\n                this.setState({\n                    data: item,\n                    loading: false\n                })\n                console.log(this.state.loading)\n            })\n            .catch(err => {\n                // Something went wrong. Save the error in state and re-render.\n                this.setState({\n                    loading: false,\n                    error: err\n                });\n            })\n        console.log(this.state.data)\n        console.log(this.state.loading)\n    }\n\n    isLoading = () => {\n        return this.state.loading\n    }\n\n    dataisNull = () => {\n        return this.state.data == null\n    }\n\n    render() {\n        const { data, loading } = this.state;\n        const sample = [\n            { 'fruit': 'Apple', 'cost': 100 },\n            { 'fruit': 'Orange', 'cost': 50 },\n            { 'fruit': 'Banana', 'cost': 35 },\n            { 'fruit': 'Mango', 'cost': 70 },\n            { 'fruit': 'Pineapple', 'cost': 45 },\n            { 'fruit': 'Papaya', 'cost': 40 },\n            { 'fruit': 'Watermelon', 'cost': 35 }\n        ]\n\n        if (this.state.loading) {\n            return (\n                <div>\n                    <Spinner animation=\"border\" variant=\"primary\" />\n                </div>\n            )\n        } else {\n            return (\n                <div>\n                    <CategoryTable data={data} />\n                </div>\n            )\n        }\n    }\n}\n\nexport default CarsProperty;"]},"metadata":{},"sourceType":"module"}